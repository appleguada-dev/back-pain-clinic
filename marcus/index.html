<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BodyArchitect | ุงููุฎุชุจุฑ ุงูุชุดุฎูุตู ุงูุดุงูู</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        body { font-family: 'Tajawal', sans-serif; }
        .fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #059669; border-radius: 4px; }

        /* Animation for the Guide Button */
        @keyframes float {
            0% { transform: translateY(0px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            50% { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2); }
            100% { transform: translateY(0px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        }
        .float-anim { animation: float 3s ease-in-out infinite; }

        /* Print Styles */
        @media print {
            body, html, #app, main, .flex-1 {
                height: auto !important;
                min-height: 100% !important;
                overflow: visible !important;
                position: static !important;
                display: block !important;
            }
            aside, header, .no-print, button, .buttons-container, .guide-btn { display: none !important; }
            .printable-area, .printable-area * { visibility: visible !important; }
            .printable-area {
                position: relative !important;
                left: 0 !important;
                top: 0 !important;
                width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                background: white !important;
            }
            ul li, .card-break { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 h-screen overflow-hidden selection:bg-emerald-200">

<div id="app" class="h-full flex flex-col md:flex-row">

    <aside class="w-full md:w-80 bg-gradient-to-b from-slate-900 to-slate-800 text-white flex flex-col shadow-2xl z-20 shrink-0 h-full no-print">
        <div class="p-6 bg-emerald-600 shadow-lg relative overflow-hidden">
            <div class="absolute -top-10 -left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
            <h1 class="text-2xl font-black flex items-center gap-3 relative z-10">
                <span class="text-3xl">๐ฉบ</span> BodyArchitect
            </h1>
            <p class="text-emerald-100 text-xs mt-1 font-bold tracking-wider relative z-10 opacity-90">ูุธุงู ุงูุชุดุฎูุต ุงููุชูุงูู</p>
        </div>

        <div class="flex-1 overflow-y-auto p-4 space-y-6">
            <div>
                <div class="flex justify-between text-xs text-slate-400 mb-2 font-bold">
                    <span>ุฑุญูุฉ ุงูุชุดุฎูุต</span>
                    <span>{{ Math.round(progress) }}%</span>
                </div>
                <div class="w-full bg-slate-700 h-3 rounded-full overflow-hidden shadow-inner">
                    <div class="bg-gradient-to-l from-emerald-400 to-emerald-600 h-full transition-all duration-1000 ease-out relative" :style="{ width: progress + '%' }"></div>
                </div>
            </div>

            <div>
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 border-b border-slate-700 pb-2 flex justify-between items-center">
                    <span>ุณุฌู ุงูุฃุฏูุฉ</span>
                    <span class="bg-slate-700 text-white text-[10px] px-2 py-0.5 rounded-full">{{ evidenceLog.length }}</span>
                </h3>
                
                <div v-if="evidenceLog.length === 0" class="text-sm text-slate-500 italic text-center py-6 border border-dashed border-slate-700 rounded-lg">
                    ูุชู ุชุฌููุน ุงูุฃุฏูุฉ...
                </div>
                
                <transition-group name="fade" tag="div" class="space-y-2">
                    <div v-for="(log, i) in evidenceLog" :key="i" class="bg-slate-700/50 border-r-4 border-emerald-500 p-3 rounded-lg text-sm hover:bg-slate-700 transition-colors cursor-default group">
                        <div class="flex justify-between items-center mb-1">
                            <span class="font-bold text-emerald-300 text-xs">{{ log.source }}</span>
                        </div>
                        <div class="font-bold text-white mb-1">{{ log.type }}</div>
                        <div class="text-xs text-slate-400 leading-snug">{{ log.note ? log.note.substring(0, 50) + '...' : '' }}</div>
                    </div>
                </transition-group>
            </div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col h-full relative overflow-hidden bg-slate-50">
        
        <header class="bg-white px-6 py-4 shadow-sm border-b flex justify-between items-center z-10 no-print">
            <div>
                <h2 v-if="currentPhase === 'history'" class="text-xl font-bold text-slate-800 flex items-center gap-2">
                    <span class="bg-blue-100 text-blue-700 p-1.5 rounded-lg text-sm">1</span>
                    ุชุญููู ุงูุชุงุฑูุฎ ุงูุทุจู
                </h2>
                <h2 v-else-if="currentPhase === 'physical'" class="text-xl font-bold text-slate-800 flex items-center gap-2">
                    <span class="bg-emerald-100 text-emerald-700 p-1.5 rounded-lg text-sm">2</span>
                    ุงูุงุฎุชุจุงุฑ ุงูุฌุณุฏู {{ physicalIndex + 1 }} / {{ physicalTests.length }}
                </h2>
                <h2 v-else-if="currentPhase === 'final'" class="text-xl font-bold text-slate-800 flex items-center gap-2">
                    <span class="bg-purple-100 text-purple-700 p-1.5 rounded-lg text-sm">3</span>
                    ุงูุชูุฑูุฑ ุงูููุงุฆู
                </h2>
                <h2 v-else class="text-xl font-bold text-slate-800">ูุฑุญุจุงู ุจู</h2>
            </div>
            <div class="text-xs font-bold text-slate-400 bg-slate-100 px-3 py-1 rounded-full">Back Mechanic Protocol โข</div>
        </header>

        <div class="flex-1 overflow-y-auto p-4 md:p-8 relative" id="main-scroll">
            
            <div v-if="currentPhase === 'intro'" class="max-w-2xl mx-auto mt-10 animate-fade-in-up">
                <div class="bg-white p-10 rounded-3xl shadow-2xl text-center border border-slate-100 relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-400 to-blue-500"></div>
                    <div class="w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center text-5xl mx-auto mb-6 shadow-sm">๐ฉป</div>
                    <h2 class="text-4xl font-black text-slate-800 mb-4 tracking-tight">ุงููุฎุชุจุฑ ุงูุชุดุฎูุตู ุงูุฐุงุชู</h2>
                    
                    <div class="bg-amber-50 border border-amber-200 rounded-xl p-5 mb-8 text-right shadow-sm">
                        <h4 class="text-amber-800 font-bold mb-2 flex items-center gap-2"><span>โ๏ธ</span> ุชูููู ุทุจู ูุงู</h4>
                        <p class="text-amber-700 text-sm leading-relaxed mb-4 font-medium">
                            ูุฐุง ุงูุชุทุจูู ุฃุฏุงุฉ ุชุนููููุฉ ูุฑูุน ุงููุนู ุงูุฌุณุฏู. ุงููุชุงุฆุฌ ููุณุช ุชุดุฎูุตุงู ุทุจูุงู ููุงุฆูุงู ูุฏูุชูุง ููุณุช 100%. ุงููุฏู ูู ูุณุงุนุฏุชู ุนูู ุชุฌูุจ ุงูุญุฑูุงุช ุงููุคุฐูุฉ ูุชุฌููุฒู ูุฒูุงุฑุฉ ุงูุทุจูุจ.
                        </p>
                        <label class="flex items-center gap-3 cursor-pointer group bg-white p-3 rounded-lg border border-amber-100 hover:border-amber-300 transition-colors">
                            <input type="checkbox" v-model="disclaimerAccepted" class="w-5 h-5 accent-emerald-600 rounded border-gray-300">
                            <span class="text-sm font-bold text-slate-700">ูููุช ุฐููุ ูุฃูุงูู ุนูู ุงููุชุงุจุนุฉ.</span>
                        </label>
                    </div>

                    <div class="grid grid-cols-2 gap-4 text-right bg-slate-50 p-6 rounded-2xl border border-slate-200 mb-8">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1">ุงูุงุณู</label>
                            <input v-model="user.name" class="w-full bg-white border border-slate-300 rounded-lg p-3 outline-none focus:border-emerald-500 transition-colors">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1">ุงูุนูุฑ</label>
                            <input v-model.number="user.age" type="number" class="w-full bg-white border border-slate-300 rounded-lg p-3 outline-none focus:border-emerald-500 transition-colors">
                        </div>
                    </div>
                    <button @click="startApp" :disabled="!user.name || !disclaimerAccepted" class="w-full bg-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-emerald-700 transition-all transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed">
                        ุงุจุฏุฃ ุงูุชูููู ุงูุขู
                    </button>
                </div>
            </div>

            <div v-if="currentPhase === 'history'" class="max-w-3xl mx-auto">
                <div v-if="historyIndex === -1" class="bg-white rounded-2xl shadow-xl p-8 mb-6 animate-fade-in-up border-l-8 border-emerald-500">
                    <h3 class="text-2xl font-bold text-slate-800 mb-4">ุงูุฎุทูุฉ 1: ุงุตูุน ููุงุฆูู (Make Your Lists)</h3>
                    <div class="text-slate-600 leading-relaxed space-y-4 mb-8 text-base font-medium">
                        <p>
                            ูุจู ุฃู ูุจุฏุฃุ ุฃุญุถุฑ ูุฑูุฉ ููููุงู. ุงูุชุจ ูุงุฆูุชูู:
                            <br><strong>1. ูุงุฆูุฉ ุงูุฃูุดุทุฉ ุงูุชู ุชุฒูุฏ ุงูุฃูู.</strong>
                            <br><strong>2. ูุงุฆูุฉ ุงูุฃูุดุทุฉ ุงูุชู ูุง ุชุณุจุจ ุฃููุงู (ุฃู ุชุฑูุญู).</strong>
                        </p>
                        <div class="bg-yellow-50 p-5 rounded-xl border border-yellow-200">
                            <strong>ููุงุฐุงุ</strong> ูุฃู ููู ุงูููุท ูู ูุตู ุงูุนูุงุฌ. 
                            <br>โข ุฅุฐุง ูุงู ุงูุฌููุณ ูุฑุจุท ุงูุญุฐุงุก ูุณุจุจุงู ุงูุฃููุ ุจูููุง ุงููุดู ูุฑูุญูุ ูุฅู ูุดููุชู ูู ุบุงูุจุงู <strong>"ุนุฏู ุชุญูู ุงูุงูุญูุงุก"</strong>.
                            <br>โข ุฃูุง ุฅุฐุง ูุงู ุงููุดู ูุฒูุฏ ุงูุฃูู ุจูููุง ุงูุฌููุณ ูุฑูุญูุ ูุบุงูุจุงู ุนููุฏู ุงูููุฑู ูุนุงูู ูู <strong>ุงูุชูุงุจ ุงูููุงุตู ุฃู ุงูุชุถูู</strong>.
                        </div>
                    </div>
                    <button @click="historyIndex = 0" class="w-full bg-slate-800 text-white py-4 rounded-xl font-bold hover:bg-slate-900 transition-colors flex justify-center items-center gap-2 shadow-lg">
                        <span>ุฃูุง ุฌุงูุฒุ ุงุจุฏุฃ ุงูุฃุณุฆูุฉ</span>
                        <span>&larr;</span>
                    </button>
                </div>

                <div v-else class="transition-all duration-300">
                    <div v-if="!lastAnswerNote" class="bg-white rounded-2xl shadow-lg p-8 mb-6 animate-fade-in-up">
                        <div class="mb-6 flex justify-between items-center">
                            <span class="text-xs font-bold text-emerald-700 bg-emerald-100 px-3 py-1 rounded-full">ุณุคุงู {{ historyIndex + 1 }} / 10</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-8 text-slate-800 leading-snug">{{ currentHistoryQ.text }}</h3>
                        <div class="space-y-4">
                            <button v-for="opt in currentHistoryQ.options" @click="handleHistoryAnswer(opt)" class="w-full text-right p-5 rounded-xl border-2 border-slate-100 hover:border-emerald-500 hover:bg-emerald-50 transition-all flex justify-between items-center group">
                                <span class="font-bold text-slate-700 text-lg">{{ opt.label }}</span>
                                <div class="w-6 h-6 rounded-full border-2 border-slate-300 group-hover:border-emerald-500 group-hover:bg-emerald-500 flex items-center justify-center transition-colors">
                                    <span class="text-white text-xs opacity-0 group-hover:opacity-100">โ</span>
                                </div>
                            </button>
                        </div>
                    </div>

                    <div v-else class="bg-blue-50 border-r-8 border-blue-500 p-8 rounded-2xl shadow-lg mb-6 animate-fade-in-up">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-3xl bg-white p-2 rounded-full shadow-sm">๐ก</span>
                            <h4 class="font-bold text-blue-900 text-xl">ุชุญููู ุญุงูุชู ุงูููุฑู:</h4>
                        </div>
                        <p class="text-slate-800 text-lg leading-8 mb-8 font-medium text-justify">{{ lastAnswerNote }}</p>
                        <button @click="nextHistoryQuestion" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 shadow-lg transition-transform hover:scale-[1.01]">
                            ุงูุณุคุงู ุงูุชุงูู &larr;
                        </button>
                    </div>
                </div>
            </div>

            <div v-if="currentPhase === 'physical'" class="max-w-7xl mx-auto h-full flex flex-col lg:flex-row gap-8">
                <div class="w-full lg:w-1/2 flex flex-col gap-6">
                    <div class="bg-white p-3 rounded-2xl shadow-xl border border-slate-200">
                        <div class="relative aspect-[4/3] bg-slate-100 rounded-xl overflow-hidden flex items-center justify-center group">
                            <img :src="currentPhysicalTest.image" :alt="currentPhysicalTest.title" class="w-full h-full object-contain p-2">
                            <div class="absolute top-4 left-4 bg-white/90 backdrop-blur text-slate-800 text-xs font-bold px-3 py-1 rounded-full shadow-sm">
                                ูุถุนูุฉ ุงูุงุฎุชุจุงุฑ
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-md border-t-4 border-emerald-500 flex-1 overflow-y-auto">
                        <h3 class="text-emerald-800 font-bold mb-4 flex items-center gap-2 text-lg"><span>๐</span> ุชุนูููุงุช ุงูุฃุฏุงุก ุงูุฏูููุฉ:</h3>
                        <div class="text-slate-700 text-base leading-8 space-y-4 marker:text-emerald-500" v-html="currentPhysicalTest.instruction"></div>
                    </div>
                </div>

                <div class="w-full lg:w-1/2 flex flex-col justify-center pb-10">
                    <transition name="fade" mode="out-in">
                        <div v-if="!currentTestResult" class="bg-white p-10 rounded-3xl shadow-2xl border border-slate-100">
                            <h3 class="text-2xl font-black text-slate-800 mb-8 leading-snug">{{ currentPhysicalTest.question }}</h3>
                            <div class="space-y-4">
                                <button v-for="opt in currentPhysicalTest.options" @click="handlePhysicalAnswer(opt)" class="w-full text-right p-6 rounded-2xl border-2 border-slate-100 hover:border-emerald-500 hover:bg-emerald-50 hover:shadow-lg transition-all flex justify-between items-center group">
                                    <span class="font-bold text-slate-700 text-lg group-hover:text-emerald-800">{{ opt.label }}</span>
                                    <span class="text-2xl text-slate-300 group-hover:text-emerald-500 transition-colors">โ</span>
                                </button>
                            </div>
                        </div>

                        <div v-else class="bg-white rounded-3xl shadow-2xl border-2 border-emerald-100 overflow-hidden">
                            <div class="bg-emerald-50 p-8 border-b border-emerald-100">
                                <div class="flex items-center gap-3 mb-3">
                                    <span class="text-3xl">๐</span>
                                    <h3 class="text-2xl font-bold text-emerald-900">ุงูุชุญููู ุงูุนููู:</h3>
                                </div>
                                <p class="text-slate-800 leading-8 font-medium text-lg mb-4 text-justify">{{ currentTestResult.feedback }}</p>
                                <div v-if="currentTestResult.diagnosis" class="inline-block bg-white text-emerald-700 px-4 py-2 rounded-lg text-sm font-bold shadow-sm border border-emerald-200">
                                    ุงููุคุดุฑ: {{ currentTestResult.diagnosis }}
                                </div>
                            </div>

                            <div class="grid grid-cols-2 divide-x divide-x-reverse divide-slate-100">
                                <div class="p-6 bg-green-50/50">
                                    <h4 class="text-green-700 font-black mb-4 flex items-center gap-2 text-lg"><span>โ</span> ุงูุนู</h4>
                                    <ul v-if="currentTestResult.dos.length > 0" class="text-sm text-slate-700 space-y-3 font-medium">
                                        <li v-for="tip in currentTestResult.dos" class="flex items-start gap-2"><span class="text-green-500 mt-1">โข</span> {{ tip }}</li>
                                    </ul>
                                    <p v-else class="text-xs text-slate-400 italic">ูุง ุชูุฌุฏ ุชูุตูุงุช ุฎุงุตุฉ ููุฐู ุงููุชูุฌุฉ.</p>
                                </div>
                                <div class="p-6 bg-red-50/50">
                                    <h4 class="text-red-700 font-black mb-4 flex items-center gap-2 text-lg"><span>โ</span> ุชุฌูุจ</h4>
                                    <ul v-if="currentTestResult.avoids.length > 0" class="text-sm text-slate-700 space-y-3 font-medium">
                                        <li v-for="tip in currentTestResult.avoids" class="flex items-start gap-2"><span class="text-red-500 mt-1">โข</span> {{ tip }}</li>
                                    </ul>
                                    <p v-else class="text-xs text-slate-400 italic">ูุง ุชูุฌุฏ ุชุญุฐูุฑุงุช ุฎุงุตุฉ ููุฐู ุงููุชูุฌุฉ.</p>
                                </div>
                            </div>

                            <div class="p-6 bg-slate-50 border-t border-slate-100">
                                <button @click="nextPhysicalTest" class="w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-black shadow-lg flex justify-center items-center gap-2 transition-all hover:scale-[1.02]">
                                    <span>ุญูุธ ุงููุชูุฌุฉ ูุงูุงูุชูุงู ููุชุงูู</span>
                                    <span>&larr;</span>
                                </button>
                            </div>
                        </div>
                    </transition>
                </div>
            </div>

            <div v-if="currentPhase === 'final'" class="max-w-5xl mx-auto printable-area bg-slate-50 p-0 animate-fade-in-up mb-20 relative">
                
                <div class="bg-slate-900 text-white p-12 rounded-b-[40px] shadow-2xl text-center relative overflow-hidden mb-12">
                    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-tr from-emerald-600/30 to-blue-600/30"></div>
                    <div class="relative z-10">
                        <h1 class="text-4xl font-black mb-2 tracking-tight">ุชูุฑูุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูุญุฑูุฉ</h1>
                        <p class="text-slate-400 text-lg font-light">ููุฎุต ุงูุชูุฌููุงุช ุงูุณููููุฉ ุงูุดุงูู (Behavioral Summary)</p>
                        <div class="mt-6 inline-flex bg-white/10 backdrop-blur rounded-full px-6 py-2 text-sm">
                            <span class="text-emerald-300 font-bold ml-2">ุงููุณุชุฎุฏู:</span> {{ user.name }} | {{ new Date().toLocaleDateString('ar-EG') }}
                        </div>
                    </div>
                </div>

                <div class="px-8 max-w-6xl mx-auto">
                    
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold text-slate-800 inline-block border-b-4 border-emerald-500 pb-2">ุงููุงุฆูุฉ ุงูุฐูุจูุฉ (The Essentials)</h2>
                        <p class="text-slate-500 mt-2">ุฎูุงุตุฉ ูุฑูุฒุฉ ููุญุฑูุงุช ุงูุขููุฉ ูุงูููููุนุฉ ุจูุงุกู ุนูู ุฑุฏูุฏ ุฃูุนุงูู.</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8 mb-16">
                        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100">
                            <div class="bg-green-50 p-6 border-b border-green-100 flex items-center gap-3">
                                <div class="w-12 h-12 bg-green-500 rounded-2xl flex items-center justify-center text-white text-2xl shadow-lg">โ</div>
                                <div>
                                    <h3 class="text-xl font-bold text-green-900">ุงูููุทูุฉ ุงูุฎุถุฑุงุก</h3>
                                    <p class="text-xs text-green-600">ุงูุชุฒู ุจูุฐู ุงูุนุงุฏุงุช</p>
                                </div>
                            </div>
                            <div class="p-8">
                                <ul class="space-y-4">
                                    <li v-for="rec in finalDiagnosis.dos" class="flex items-start gap-4 p-3 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100">
                                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center shrink-0 mt-0.5 text-green-600 text-xs font-bold">โ</div>
                                        <span class="text-slate-700 font-medium leading-relaxed">{{ rec }}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100">
                            <div class="bg-red-50 p-6 border-b border-red-100 flex items-center gap-3">
                                <div class="w-12 h-12 bg-red-500 rounded-2xl flex items-center justify-center text-white text-2xl shadow-lg">โ</div>
                                <div>
                                    <h3 class="text-xl font-bold text-red-900">ุงูููุทูุฉ ุงูุญูุฑุงุก</h3>
                                    <p class="text-xs text-red-600">ุชููู ุนู ูุฐู ุงูุญุฑูุงุช</p>
                                </div>
                            </div>
                            <div class="p-8">
                                <ul class="space-y-4">
                                    <li v-for="rec in finalDiagnosis.avoids" class="flex items-start gap-4 p-3 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100">
                                        <div class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center shrink-0 mt-0.5 text-red-600 text-xs font-bold">โ</div>
                                        <span class="text-slate-700 font-medium leading-relaxed">{{ rec }}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="mb-16 print-break">
                        <h3 class="text-xl font-black text-slate-800 mb-8 border-r-8 border-slate-800 pr-4">ุณุฌู ุงูููุงุญุธุงุช ุงูุชูุตููู (ูููุฑุงุฌุนุฉ ูุน ุงูุทุจูุจ)</h3>
                        
                        <div class="mb-8">
                            <h4 class="text-md font-bold text-slate-500 mb-4 uppercase tracking-widest flex items-center gap-2"><span>๐</span> ุฃููุงู: ุชุญููู ุงูุชุงุฑูุฎ ุงูุทุจู</h4>
                            <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
                                <div v-for="(item, i) in historyLog" :key="i" class="p-4 border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors">
                                    <div class="flex justify-between items-start gap-4">
                                        <div class="text-sm font-bold text-slate-700 w-2/3">{{ item.q }}</div>
                                        <div class="text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full text-center whitespace-nowrap">{{ item.a }}</div>
                                    </div>
                                    <div class="mt-2 text-xs text-slate-500 leading-relaxed bg-slate-50 p-2 rounded">{{ item.note }}</div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h4 class="text-md font-bold text-slate-500 mb-4 uppercase tracking-widest flex items-center gap-2"><span>๐ช</span> ุซุงููุงู: ูุชุงุฆุฌ ุงููุญุต ุงูุฌุณุฏู</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div v-for="(test, i) in physicalLog" :key="i" :class="test.isPain ? 'border-red-200 bg-red-50/30' : 'border-slate-200 bg-white'" class="p-5 rounded-xl border shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full card-break">
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <div class="text-xs text-slate-400 font-bold uppercase">ุงุฎุชุจุงุฑ {{ i + 1 }}</div>
                                            <div class="text-xs font-bold px-2 py-1 rounded" :class="test.isPain ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600'">
                                                {{ test.isPain ? 'ุฅูุฌุงุจู (ุฃูู)' : 'ุณูุจู (ุณููู)' }}
                                            </div>
                                        </div>
                                        <div class="font-bold text-slate-800 text-sm mb-2">{{ test.t }}</div>
                                        <div class="text-xs text-slate-600 mb-3 font-medium">ุงููุชูุฌุฉ: {{ test.r }}</div>
                                        <div class="text-[10px] text-slate-500 leading-relaxed">{{ test.note.substring(0, 100) }}...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row justify-center gap-4 no-print pb-12 buttons-container">
                        <button @click="toggleBig3" class="group px-8 py-5 bg-slate-800 text-white rounded-2xl font-bold hover:bg-slate-900 shadow-xl flex items-center justify-center gap-3 transition-all hover:-translate-y-1">
                            <span class="text-2xl">๐๏ธ</span>
                            <div class="text-right">
                                <div class="text-xs font-light opacity-70">ุงูุนูุงุฌ</div>
                                <div>ุดุฑุญ ุชูุงุฑูู Big 3</div>
                            </div>
                        </button>
                        
                        <a href="https://www.youtube.com/watch?v=f7HLP96HVNM" target="_blank" class="group px-8 py-5 bg-red-600 text-white rounded-2xl font-bold hover:bg-red-700 shadow-xl flex items-center justify-center gap-3 transition-all hover:-translate-y-1 decoration-0 no-underline">
                            <span class="text-2xl">๐บ</span>
                            <div class="text-right">
                                <div class="text-xs font-light opacity-70">ููุฏูู</div>
                                <div>ุจุฏุก ุงูุจุฑูุงูุฌ ุงูุนูุงุฌู</div>
                            </div>
                        </a>
                        
                        <button onclick="window.print()" class="group px-8 py-5 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-700 shadow-xl flex items-center justify-center gap-3 transition-all hover:-translate-y-1">
                            <span class="text-2xl">๐จ๏ธ</span>
                            <div class="text-right">
                                <div class="text-xs font-light opacity-70">ุญูุธ</div>
                                <div>ุชุตุฏูุฑ PDF</div>
                            </div>
                        </button>
                    </div>

                </div>
            </div>

        </div>
    </main>

    <button @click="toggleGuide" class="guide-btn fixed bottom-8 left-8 z-50 bg-blue-600 text-white px-6 py-4 rounded-full shadow-2xl hover:bg-blue-700 transition-all hover:scale-105 flex items-center gap-3 float-anim">
        <span class="text-4xl">๐</span>
        <div class="text-right">
            <div class="text-xs font-light opacity-90">ูุณุงุนุฏุฉ</div>
            <div class="font-bold text-lg">ุฏููู ุงูุงุณุชุฎุฏุงู</div>
        </div>
    </button>

    <div v-if="showBig3" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4" @click.self="toggleBig3">
        <div class="bg-white w-full max-w-4xl rounded-[40px] p-10 shadow-2xl relative animate-fade-in-up overflow-hidden">
            <button @click="toggleBig3" class="absolute top-6 right-6 bg-slate-100 rounded-full p-3 text-slate-500 hover:bg-slate-200 transition-colors">โ</button>
            <div class="text-center mb-10">
                <h2 class="text-4xl font-black text-slate-800 mb-2">ุชูุงุฑูู Big 3 ุงูุฃุณุงุณูุฉ</h2>
                <p class="text-emerald-600 font-medium">ุงูุนููุฏ ุงูููุฑู ููุนูุงุฌ ุงููููุงูููู</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-slate-50 p-6 rounded-3xl border border-slate-200 text-center hover:shadow-lg transition-shadow">
                    <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-4xl mx-auto mb-4 shadow-sm">๐ฆ</div>
                    <h3 class="font-bold text-xl text-slate-800 mb-2">1. Curl-up</h3>
                    <p class="text-sm text-slate-500 leading-relaxed">ุชูุฑูู ุงูุจุทู ุงููุนุฏู. ูุฏ ุชุญุช ุงูุธูุฑุ ุฑูุจุฉ ูุซููุฉุ ุฑูุน ุงูุฑุฃุณ ูุงูุฃูุชุงู ููุท ููููุงู.</p>
                </div>
                <div class="bg-slate-50 p-6 rounded-3xl border border-slate-200 text-center hover:shadow-lg transition-shadow">
                    <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-4xl mx-auto mb-4 shadow-sm">๐ง</div>
                    <h3 class="font-bold text-xl text-slate-800 mb-2">2. Side Plank</h3>
                    <p class="text-sm text-slate-500 leading-relaxed">ุงูุฌุณุฑ ุงูุฌุงูุจู. ุงุณุชูุฏ ุนูู ููุนู ูุฑูุจุชูู (ุฃู ูุฏููู) ูุชูููุฉ ุงูุฌูุงูุจ.</p>
                </div>
                <div class="bg-slate-50 p-6 rounded-3xl border border-slate-200 text-center hover:shadow-lg transition-shadow">
                    <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-4xl mx-auto mb-4 shadow-sm">๐</div>
                    <h3 class="font-bold text-xl text-slate-800 mb-2">3. Bird Dog</h3>
                    <p class="text-sm text-slate-500 leading-relaxed">ูุถุนูุฉ ุงููุฏูู ูุงูุฑูุจุชูู. ูุฏ ูุฏู ุงููููู ูุฑุฌูู ุงููุณุฑู ููุฎุงุฑุฌ ุจุซุจุงุช.</p>
                </div>
            </div>
            <div class="mt-10 text-center">
                <a href="https://www.youtube.com/watch?v=f7HLP96HVNM" target="_blank" class="inline-block bg-red-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-red-700 shadow-lg transition-transform hover:scale-105 no-underline">
                    ุดุงูุฏ ุงูููุฏูู ุงูุชุนูููู ุงูุขู ๐บ
                </a>
            </div>
        </div>
    </div>

    <div v-if="showGuide" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4" @click.self="toggleGuide">
        <div class="bg-white w-full max-w-6xl h-[85vh] rounded-[30px] p-0 shadow-2xl relative animate-fade-in-up border-4 border-blue-50 overflow-hidden flex flex-col">
            <div class="bg-slate-100 p-4 flex justify-between items-center border-b border-slate-200">
                <h2 class="text-xl font-bold text-slate-700 flex items-center gap-2">
                    <span>๐</span> ุฏููู ุงููููุฏุณ
                </h2>
                <button @click="toggleGuide" class="bg-white rounded-full p-2 text-slate-500 hover:bg-red-50 hover:text-red-500 transition-colors shadow-sm w-10 h-10 flex items-center justify-center font-bold">โ</button>
            </div>
            
            <div class="flex-1 bg-slate-50 relative">
                <iframe src="guide.pdf" class="w-full h-full" frameborder="0">
                    <div class="flex flex-col items-center justify-center h-full p-10 text-center">
                        <p class="text-slate-500 mb-4">ูุชุตูุญู ูุง ูุฏุนู ุนุฑุถ PDF ูุจุงุดุฑุฉ.</p>
                        <a href="guide.pdf" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold">ุชุญููู ุงูุฏููู</a>
                    </div>
                </iframe>
            </div>

            <div class="bg-white p-4 border-t border-slate-200 text-center md:text-right">
                <a href="guide.pdf" target="_blank" class="inline-flex items-center gap-2 text-blue-600 font-bold hover:underline">
                    <span>๐ฅ</span> ุชุญููู ููู PDF
                </a>
            </div>
        </div>
    </div>

</div>

<script>
const { createApp } = Vue;

createApp({
    data() {
        return {
            currentPhase: 'intro',
            historyIndex: -1, 
            physicalIndex: 0,
            user: { name: '', age: '' },
            disclaimerAccepted: false,
            evidenceLog: [],
            historyLog: [],   
            physicalLog: [],  
            lastAnswerNote: null,
            currentTestResult: null,
            showBig3: false,
            showGuide: false, // New State for Guide Modal
            
            // Accumulated lists
            globalDos: [],
            globalAvoids: [],

            // === 1. HISTORY QUESTIONS (Extensive) ===
            historyQuestions: [
                { 
                    id: 'q1', 
                    text: '1. ูู ุชุชุบูุฑ ุญุฏุฉ ุงูุฃูู ุฎูุงู ุงููููุ (ูู ุชูุฑ ุนููู ุณุงุนุงุช ุชููู ูููุง ุจูุง ุฃููุ)', 
                    options: [ 
                        { label: 'ูุนูุ ุงูุฃูู ูุชุบูุฑ ูุชูุฌุฏ ูุชุฑุงุช ุฑุงุญุฉ', trigger: 'Mechanical Pain', note: 'ุฅุฐุง ูุงู ุฃููู ูุชุบูุฑุ ูููุงู ุณุจุจ ูุญุฏุฏ. ููู ูุฐุง ุงูุณุจุจ ูุถูู ุงููุฌุงุญ. ุณูุนููู ููููุฉ ุชุญุฏูุฏ ูุณุจุจุงุช ุงูุฃูู ูุฏูู ูุชุฌูุจูุง ูุชูููู ุงูุฃุนุฑุงุถ.' }, 
                        { label: 'ูุงุ ุงูุฃูู ุซุงุจุช ุจููุณ ุงูุญุฏุฉ 24 ุณุงุนุฉ', trigger: 'Non-Mechanical', note: 'ุงูุฃูู ุงููุณุชูุฑ ุฏูู ุชุบููุฑ ูุฏ ูุดูุฑ ูุณุจุจ ุบูุฑ ูููุงูููู. ููุตุญ ุจุดุฏุฉ ุจุฒูุงุฑุฉ ุทุจูุจ ูุฅุฌุฑุงุก ูุญูุตุงุช ุฏูููุฉ ูุงุณุชุจุนุงุฏ ุงูุฃุณุจุงุจ ุงููุฑุถูุฉ ุงูุฃุฎุฑู.' } 
                    ] 
                },
                { 
                    id: 'q2', 
                    text: '2. ุนูุฏ ุงูุชููุจ ูู ุงูุณุฑูุฑุ ูู ุชูุงุฌู "ูุบุฒุงุช" ูุคููุฉ ููุงุฌุฆุฉุ', 
                    options: [ 
                        { label: 'ูุนูุ ุฃุดุนุฑ ุจูุบุฒุงุช ุญุงุฏุฉ', trigger: 'Spinal Instability', note: 'ุฅุฐุง ุฃุฌุจุช ุจูุนูุ ููุฏ ุชุนุงูู ูู ุนุฏู ุงุณุชูุฑุงุฑ ุงูุนููุฏ ุงูููุฑู. ููููู ุงููุถุงุก ุนูู ูุฐู ุงููุบุฒุงุช ุนู ุทุฑูู "ุชุตูุจ" ุนุถูุงุช ุธูุฑู ุจุชูุงุฑูู ุงูุชุซุจูุช. ุชุฌูุจ ุชูุงุฑูู ุงูุฅุทุงูุฉ ุงูุชู ุชุฒูุฏ ูู ุงุฑุชุฎุงุก ุงูููุงุตู.' }, 
                        { label: 'ูุง', trigger: null, note: 'ุนุฏู ูุฌูุฏ ูุบุฒุงุช ูุคุดุฑ ุฌูุฏ ุนูู ุฃู ุงูุฃุฑุจุทุฉ ูุงูููุงุตู ุชุญุงูุธ ุนูู ุซุจุงุชูุง ุจุดูู ูุนููู.' } 
                    ] 
                },
                { 
                    id: 'q3', 
                    text: '3. ูุง ุงูุฐู ูุฌุนู ุฃููู ุฃุณูุฃุ (ูู ูู ูุดุงุท ูุญุฏุฏุ)', 
                    options: [ 
                        { label: 'ูุดุงุท ูุญุฏุฏ (ูุซู ูุฑุฉ ุงูุณูุฉ/ุฑูุน ุงูุฃุซูุงู)', trigger: 'Specific Trigger', note: 'ุฅุฐุง ุงุณุชุทุนุช ุชุญุฏูุฏ ูุดุงุทุ ูุงูุฃูู ูู "ูุญูุฒ". ุงูุญู ูู ุชุฌูุจ ุงููุญูุฒ. ูุง ุฏุงุนู ูุชุฑู ุงูุฑูุงุถุฉ ุชูุงูุงูุ ุจู ูุฌุจ ุชุนุฏูู ุญุฑูุชู (ูุซู ุชุฌูุจ ุงูุญูุงุก ุงูุธูุฑ ุฃุซูุงุก ุงููุฑูุตุงุก) ูุฅูุบุงุก ุงููุญูุฒ.' }, 
                        { label: 'ุงูุฃูู ุนุดูุงุฆู ูุบูุฑ ูุญุฏุฏ', trigger: null, note: 'ุงูุฃูู ุงูุนุดูุงุฆู ูุชุทูุจ ููู ุฃู ุชููู "ูุญููุงู" ูุชุฑุงูุจ ุญุฑูุงุชู ุงูููููุฉ ุจุฏูุฉ ุฃูุจุฑ ููุนุซูุฑ ุนูู ุงููุญูุฒ ุงูุฎูู.' } 
                    ] 
                },
                { 
                    id: 'q4', 
                    text: '4. ููู ุจุฏุฃ ุงูุฃููุ ูู ูุงู ุตุฏูุฉ ุฃู ุชุฏุฑูุฌูุงูุ', 
                    options: [ 
                        { label: 'ุญุงุฏุซ / ุณููุท / ุตุฏูุฉ', trigger: 'Traumatic Origin', note: 'ุงูุฃูู ุงููุงุชุฌ ุนู ุญุงุฏุซ ุบุงูุจุงู ูุง ูููู ูููุงููููุงู. ุงูุฃูุณุฌุฉ ุชุถุฑุฑุชุ ููู ูุถุนูุงุช ุชุฎููู ุงูุฃูู ูุชุงุญุฉ ูุชุณุงุนุฏ ุนูู ุงูุดูุงุก ุฅุฐุง ุงูุชุฒูุช ุจูุง.' }, 
                        { label: 'ุธูุฑ ุจุจุทุก ูุชุฒุงูุฏ (ุบูุฑ ูุญุฏุฏ)', trigger: 'Cumulative Load', note: 'ูุฐุง ูุดูุฑ ุฅูู ุฃู ุงูุฃูู ูุณุชูุฑ ูู ุงูุงุฒุฏูุงุฏ ุจุณุจุจ "ุงูุญูู ุงูุชุฑุงููู". ุนุงุฏุงุชู ุงูููููุฉ ุงูุฎุงุทุฆุฉ ุชุฑุงููุช ุญุชู ุชุฌุงูุฒุช ุญุฏ ุงูุชุญูู.' } 
                    ] 
                },
                { 
                    id: 'q5', 
                    text: '5. ูู ูุฏูู ุชุงุฑูุฎ ูุน ูุดุงุดุฉ ุงูุนุธุงูุ', 
                    options: [ 
                        { label: 'ูุนู', trigger: 'Bone Fragility', note: 'ููุงู ูุฎุงูู ูู ูุดุงุดุฉ ุงูุนุธุงู. ุงุฎุชุฑ ุงูุชูุงุฑูู ุงูุชู ุชุฌูุจ ุงูุนููุฏ ุงูููุฑู ุฃุญูุงู ุงูุถุบุท (ูุซู ุงููุดู ุจุธูุฑ ูุณุชููู ูุงูุณุจุงุญุฉ). ุชุฌูุจ ุงูุบููู ูุงูุชูุงุฑูู ุงูุชู ุชุชุทูุจ ุงูุญูุงุกู.' }, 
                        { label: 'ูุง', trigger: null, note: 'ุฌูุฏ. ูุฐุง ูุณุชุจุนุฏ ุงูููู ูู ุงููุณูุฑ ุงูุงูุถุบุงุทูุฉ ุงููุฑุชุจุทุฉ ุจุงููุดุงุดุฉ.' } 
                    ] 
                },
                { 
                    id: 'q6', 
                    text: '6. ูู ุงูุฃูู ูู ุฃุณูุฃ ุญุงูุงุชู ููุฑ ุงูุงุณุชููุงุธ ุตุจุงุญุงูุ', 
                    options: [ 
                        { label: 'ูุนูุ ุฃุณูุฃ ุดูุก ูู ุงูุตุจุงุญ', trigger: 'Bed/Sleep Issue', note: 'ูุฏ ูููู ุงูุณุฑูุฑ ูู ุงูุณุจุจ. ุฅุฐุง ูุงูุช ุงููุฑุชุจุฉ ูุง ุชุฏุนู ุงูุญูุงุกุงุช ุธูุฑูุ ุณุชุณุชููุธ ูุชุฃููุงู. ุชุฌูุจ ูุถุนูุฉ "ุงูุฌููู" ูุฃููุง ุชุจูู ุงูุฏูุณู ูุถุบูุทุงู ุทูุงู ุงูููู.' }, 
                        { label: 'ูุงุ ูุฒุฏุงุฏ ูุงุญูุงู', trigger: null, note: 'ุฅุฐุง ูู ููู ููุงู ุฃูู ุตุจุงุญูุ ูุงููุฑุชุจุฉ ุณูููุฉ ุบุงูุจุงู. ุงููุดููุฉ ุชููู ูู ุทุฑููุฉ ุฌููุณู ุฃู ุญุฑูุชู ุฎูุงู ุงูููุงุฑ.' } 
                    ] 
                },
                { 
                    id: 'q7', 
                    text: '7. ูู ูุฒุฏุงุฏ ุงูุฃูู ุชุฏุฑูุฌูุงู ูููุง ูุฑ ุงููููุ', 
                    options: [ 
                        { label: 'ูุนูุ ูุฒุฏุงุฏ ูุน ุงูููุช', trigger: 'Cumulative Loading', note: 'ูุฐุง ููุท "ุงูุญูู ุงูุชุฑุงููู". ููู ููุง ุญุฏ ููุชุญูู. ุงูุญู ูู ุงุณุชุฑุงุชูุฌูุฉ "ูุชุฑุงุช ุงูุฑุงุญุฉ" ูุชูุณูู ุงูููู ูุชุฌุฏูุฏ ูุฏุฑุฉ ุงูุธูุฑ ูุจู ุฃู ูุจุฏุฃ ุงูุฃูู.' }, 
                        { label: 'ูุง', trigger: null, note: 'ูุฐุง ูุนูู ุฃู ุงูุฃูู ูุฑุชุจุท ุจุญุฑูุงุช ูุญุฏุฏุฉ ูููุณ ูุฌุฑุฏ ุฅุฑูุงู ุนุงู ููุฃูุณุฌุฉ.' } 
                    ] 
                },
                { 
                    id: 'q8', 
                    text: '8. ูู ูุชุฑูุฒ ุงูุฃูู ูู ููุทูุฉ ููุชุตู ุงูุธูุฑุ', 
                    options: [ 
                        { label: 'ูุนูุ ูู ุงูููุชุตู', trigger: 'Thoracolumbar Hinge', note: 'ุฃูู ููุชุตู ุงูุธูุฑ ูุนูู ุบุงูุจุงู ุฃูู "ุชูุณุฑ" ุธูุฑู ูู ุงูููุชุตู (Hinging) ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ุงูุญูุถ. ุณูุนููู ููููุฉ ุงูุญุฑูุฉ ุงูุตุญูุญุฉ ูู ุงููุฑู.' }, 
                        { label: 'ูุงุ ุฃุณูู ุงูุธูุฑ', trigger: null, note: 'ุงูุฃูู ูู ุฃุณูู ุงูุธูุฑ (ุงูููุทูุฉ ุงููุทููุฉ) ูู ุงูุฃูุซุฑ ุดููุนุงู ูุนุงุฏุฉ ูุง ูุฑุชุจุท ุจุงูุฏูุณู ุฃู ุงูููุงุตู.' } 
                    ] 
                },
                { 
                    id: 'q9', 
                    text: '9. ูู ููุชุฏ ุงูุฃูู ุฅูู ุงูุฃุฑุฏุงู ูุงูุณุงูููุ', 
                    options: [ 
                        { label: 'ูุนูุ ููุชุฏ ููุณุงููู', trigger: 'Nerve Root Tension', note: 'ูุฐุง ุงูุฃูู ูุงุชุฌ ุบุงูุจุงู ุนู ุฌุฐุฑ ุนุตุจู ูุญุดูุฑ (Sciatica). ุงููุดุงุท ุงูุฐู ูุณุจุจ ุงูุญูุงุก ุงูุธูุฑ ูุถุบุท ุงูุฏูุณู ุนูู ุงูุนุตุจ. ุชุตุญูุญ ุงููุถุนูุฉ ูุฒูู ุงูุถุบุท.' }, 
                        { label: 'ูุงุ ูู ุงูุธูุฑ ููุท', trigger: null, note: 'ุงูุญุตุงุฑ ุงูุฃูู ูู ุงูุธูุฑ ูุคุดุฑ ุฌูุฏุ ูุนูู ุฃู ุงูุฃุนุตุงุจ ุงูุฌุฐุฑูุฉ ุบูุฑ ูุชุฃุซุฑุฉ ุญุงููุงู.' } 
                    ] 
                },
                { 
                    id: 'q10', 
                    text: '10. ูู ูุฒุฏุงุฏ ุงูุฃูู ูุน ุงููุดู ุงูุณุฑูุน ุฃู ูููุ', 
                    options: [ 
                        { label: 'ููู ูุน ุงููุดู ุงูุณุฑูุน', trigger: 'Disc Responder', note: 'ุฃูุช ุชุณุชุฌูุจ ุฌูุฏุงู ูููุดู (ูุดููุฉ ุฏูุณู). ุงููุดู ุงูุณุฑูุน ูุน ุชุญุฑูู ุงูุฐุฑุงุนูู ูุนุชุจุฑ ุนูุงุฌุงู ูู. ุชุฌูุจ ุงููุดู ุงูุจุทูุก (ุงูุชุณูุน) ูุฃูู ูุคุฐู.' }, 
                        { label: 'ูุฒูุฏ ูุน ุงููุดู', trigger: 'Stenosis Responder', note: 'ูุฐุง ูุดูุฑ ูุชุถูู ุงูููุงุฉ (Stenosis). ุงููุดู ูุฑุงูู ุงูุถุบุท. ุณุชุญุชุงุฌ ูุจุฑูุงูุฌ ูุดู ูุตุญุญ ุจูุชุฑุงุช ูุตูุฑุฉ ุฌุฏุงู ุชุชุฎูููุง ุฑุงุญุฉ.' } 
                    ] 
                }
            ],

            // === 2. PHYSICAL TESTS (Extensive - Using .png) ===
            physicalTests: [
                { 
                    id: 't1', title: '1. ุงุฎุชุจุงุฑ ุถุบุท ุงููุฑุณู (Compression)', image: 'img/test1.png', 
                    instruction: `<ul><li>ุงุฌูุณ ุนูู ูุฑุณู ูุฃูุณู ุญุงูุฉ ุงูููุนุฏ.</li><li><strong>ุงููุถุน 1 (ูุณุชููู):</strong> ุงุฌูุณ ุจุธูุฑ ูุณุชููู ูุงุณุญุจ ุงูููุนุฏ ููุฃุนูู ูุชุถุบุท ุงูุนููุฏ ุงูููุฑู.</li><li><strong>ุงููุถุน 2 (ูุชุฑุงุฎู):</strong> ุงุฑุฎู ุธูุฑู (ุชุญุฏุจ) ูุงุณุญุจ ุงูููุนุฏ ููุฃุนูู.</li></ul>`, 
                    question: 'ุฃู ูุถุนูุฉ ุณุจุจุช ุงูุฃูู ุงูุฃูุจุฑุ', 
                    options: [ 
                        { 
                            label: 'ุงููุถุน ุงููุชุฑุงุฎู (Slouched) ูุคูู', diagnosis: 'Flexion Intolerance', 
                            feedback: 'ุฃููู ูุชูุงูู ูุน ุงูุฌููุณ ุงููุชุฑุงุฎู ูุงูุงูุญูุงุก. ุงูุณุจุจ ุงููุญุชูู ูู "ุจุฑูุฒ ุฏูุณู".', 
                            dos: ['ูุงุฑุณ ุชูููุฉ "Shortstop Squat" ููู ุงูุญูุงุก', 'ุทุจู ูุจุงุฏุฆ ูุธุงูุฉ ุงูุนููุฏ ุงูููุฑู', 'ุชูุงุฑูู Big 3'], 
                            avoids: ['ุชุฌูุจ ุงูุญูุงุก ุงูุนููุฏ ุงูููุฑู ุนูุฏ ุงูุชูุงุท ุงูุฃุดูุงุก', 'ุชุฌูุจ ุงูุฌููุณ ุงูุทููู'] 
                        }, 
                        { 
                            label: 'ุงููุถุน ุงููุณุชููู (Tall) ูุคูู', diagnosis: 'Compression Intolerance', 
                            feedback: 'ุฃููู ูุงุชุฌ ุนู ุงูุถุบุท ุงูุนููุฏูุ ูุฏ ูููู ููุงู ุฅุตุงุจุฉ ูู "ุตูุงุฆุญ ุงูููุฑุงุช".', 
                            dos: ['ููู ุงูุฃุญูุงู ุงููุญูููุฉ', 'ูุงุฑุณ "ุชุตูุจ ุงูุฌุฐุน" (Bracing) ูุชุฎููู ุงูุฃูู'], 
                            avoids: ['ุญูู ุงูุฃูุฒุงู ุงูุซูููุฉ ุฃูุงู ุงูุฌุณู', 'ุงูุฌุฑู ูุงูููุฒ', 'ุงูุชุนุฑุถ ููุงูุชุฒุงุฒุงุช'] 
                        }, 
                        { label: 'ูุง ููุฌุฏ ุฃูู', diagnosis: null, feedback: 'ููุชุงุฒ. ุงูุถุบุท ุงูุซุงุจุช ููุณ ุงููุญูุฒ ุงูุฑุฆูุณู.', dos: ['ุงุณุชูุฑ ูู ุงูุญุฑูุฉ ุงูุณูููุฉ'], avoids: [] } 
                    ] 
                },
                {
                    id: 't2', title: '2. ุงุฎุชุจุงุฑ ุตุฏูุฉ ุงููุนุจ (Heel Drop)', image: 'img/test2.png',
                    instruction: `<ul><li>ูู ูุณุชูููุงู ูุงุฑุชูุน ุนูู ุฑุคูุณ ุฃุตุงุจุนู ุซู ุงุณูุท ุจููุฉ ุนูู ูุนุจูู.</li><li>ูุฑุฑ ูุฃูุช ุชูุธุฑ ููุฃุณูู (ูุญุต ุงูุนุตุจ).</li></ul>`,
                    question: 'ูุง ูู ููุงุญุธุชู ุงูุฃุณุงุณูุฉุ',
                    options: [
                        { 
                            label: 'ุงูุฃูู ุฒุงุฏ ุนูุฏ ุงููุธุฑ ููุฃุณูู', diagnosis: 'Nerve Tension', 
                            feedback: 'ุงูุฃูู ูุฒุฏุงุฏ ูุน ุงูุญูุงุก ุงูุฑูุจุฉุ ููุง ูุนูู ูุฌูุฏ ุชูุชุฑ ูู ุงูุญุจู ุงูุดููู ูุงูุฌุฐูุฑ ุงูุนุตุจูุฉ.', 
                            dos: ['ุงุจุญุซ ุนู ูุถุนูุฉ ุฑูุจุฉ ูุฑูุญุฉ', 'ููู ูู ุจุฑูุฒ ุงูุฏูุณู (Tummy Lie)', 'ุชุญุฑูู ุงูุนุตุจ ูุงุญูุงู'], 
                            avoids: ['ุชุฌูุจ ุชูุงุฑูู ุงูุฅุทุงูุฉ (Stretching) ุญุงููุงู'] 
                        },
                        { 
                            label: 'ุงูุณููุท ูุคูู ุฏุงุฆูุงู', diagnosis: 'Load Intolerance', 
                            feedback: 'ุญุณุงุณูุฉ ุนุงููุฉ ููุตุฏูุงุช ุงูุฏููุงููููุฉ.', 
                            dos: ['ุงููุดู ุจุฃุญุฐูุฉ ูุฑูุญุฉ ุชูุชุต ุงูุตุฏูุงุช', 'ุงููุดู ุนูู ุฃุณุทุญ ูุงุนูุฉ'], 
                            avoids: ['ุงูุฌุฑู', 'ุงูููุฒ', 'ุงููุดู ุนูู ุงูุฃุฑุตูุฉ ุงูุตูุจุฉ ููุชุฑุงุช ุทูููุฉ'] 
                        },
                        { label: 'ูุง ุฃูู ูุฐูุฑ', diagnosis: null, feedback: 'ุฌูุฏ.', dos: [], avoids: [] }
                    ]
                },
                {
                    id: 't3', title: '3. ุงุฎุชุจุงุฑ ุงูุงุณุชููุงุก (Tummy Lie)', image: 'img/test3.png',
                    instruction: `<ul><li>ุงุณุชููู ุนูู ุจุทูู ููุฏุฉ 3 ุฏูุงุฆู.</li><li>ุฑุงูุจ ุงูุฃูู.</li></ul>`,
                    question: 'ุงูุดุนูุฑ ุจุนุฏ 3 ุฏูุงุฆูุ',
                    options: [
                        { 
                            label: 'ุงูุฃูู ุงุฎุชูู ุฃู ูู', diagnosis: 'Disc Bulge Responder', 
                            feedback: 'ูุฐู ุงููุถุนูุฉ ุชุฑูุญู ูุฃููุง ุชุฏูุน ุงูุฏูุณู ูููุงูู. ูุฐุง ูุคูุฏ ุฃู ุงูุงูุญูุงุก ูู ุนุฏูู.', 
                            dos: ['ุงุณุชุฎุฏู ูุฐุง ุงููุถุน ูุนูุงุฌ "ุฅุทูุงุก ุฃูู" ูููู', 'ุงููุดู ุงูุณุฑูุน'], 
                            avoids: ['ุงูุฌููุณ ููุฑุงู ุจุนุฏ ูุฐุง ุงูุชูุฑูู', 'ุชูุงุฑูู ุงูุจุทู ุงูุชูููุฏูุฉ'] 
                        },
                        { 
                            label: 'ุงูุฃูู ุงุฒุฏุงุฏ', diagnosis: 'Extension Intolerance', 
                            feedback: 'ุงูุฃูู ุงุฒุฏุงุฏุ ููุง ูุนูู ุฃูู ูุง ุชุชุญูู ุงูุชูุฏุฏ (Extension).', 
                            dos: ['ุถุน ูุณุงุฏุฉ ุชุญุช ุจุทูู ุนูุฏ ุงูููู ูุชูููู ุงูุชููุณ'], 
                            avoids: ['ุงูููู ุนูู ุงูุจุทู ุฏูู ูุณุงุฏุฉ', 'ุชูุฑูู ุงูููุจุฑุง'] 
                        }
                    ]
                },
                {
                    id: 't4', title: '4. ุงุฎุชุจุงุฑ ุงูุชูุฏุฏ ูุงูุฏูุฑุงู', image: 'img/test4.png',
                    instruction: `<ul><li>ูู ูููุณ ุธูุฑู ููุฎูู ููููุงู ุซู ูู ุฌุฐุนู ููููุงู ููุณุงุฑุงู.</li></ul>`,
                    question: 'ุงููุชูุฌุฉ:',
                    options: [
                        { 
                            label: 'ุฃูู ุนูุฏ ุงูุฏูุฑุงู', diagnosis: 'Facet Joint Pathology', 
                            feedback: 'ุงูุฃูู ูุน ุงูุฏูุฑุงู ููุฎูู ูุดูุฑ ููุดููุฉ ูู ุงูููุงุตู ุงูุฎูููุฉ (Facet Joints).', 
                            dos: ['ุชุนูู ุงูุฏูุฑุงู ุจุงุณุชุฎุฏุงู ุงููุฑู ูููุณ ุงูุธูุฑ'], 
                            avoids: ['ุญุฑูุงุช ุงููุชู (Twisting)', 'ูุฏ ุงููุฏ ููุฎูู ูุฌูุจ ุงูุฃุดูุงุก'] 
                        },
                        { label: 'ูุง ุฃูู', diagnosis: null, feedback: 'ุณููู.', dos: [], avoids: [] }
                    ]
                },
                {
                    id: 't5', title: '5. ุงุฎุชุจุงุฑ ุจูุงูู ุงูุฌุฏุงุฑ', image: 'img/test5.png',
                    instruction: `<ul><li>ุงุณุชูุฏ ุจูุฑูููู ุนูู ุงูุฌุฏุงุฑ. ุญุฑู ุธูุฑู ุจุจุทุก ููุจุญุซ ุนู ูุถุนูุฉ ุจูุง ุฃูู.</li></ul>`,
                    question: 'ูู ูุฌุฏุช ูุถุนูุฉ ูุฑูุญุฉุ',
                    options: [
                        { 
                            label: 'ูุนูุ ูุฌุฏุช ูุถุนูุฉ ูุฑูุญุฉ', diagnosis: 'Postural Responder', 
                            feedback: 'ูุฐุง ูุซุจุช ุฃู ุฃููู ูููุงูููู ููููู ุนูุงุฌู ุจุชุตุญูุญ ุงููุถุนูุฉ.', 
                            dos: ['ุงุญูุธ ูุฐู ุงููุถุนูุฉ "ุงููุญุงูุฏุฉ" ูุทุจููุง ูู ุญูุงุชู', 'ุนุฏู ููุนุฏ ุงูุณูุงุฑุฉ'], 
                            avoids: ['ุงูุจูุงุก ูู ูุถุนูุฉ ูุงุญุฏุฉ ููุชุฑุฉ ุทูููุฉ (ุณูุงุก ุฌููุณ ุฃู ูููู)'] 
                        },
                        { 
                            label: 'ูุงุ ูุคูู ุฏุงุฆูุงู', diagnosis: 'High Sensitivity', 
                            feedback: 'ุฃูุณุฌุชู ูุชููุฌุฉ ุฌุฏุงู ุญุงููุงู.', 
                            dos: ['ุงูุฑุงุญุฉ ุงููุตูุฑุฉ ุงููุชูุฑุฑุฉ', 'ุงููุดู ุงููุตูุฑ ุฌุฏุงู'], 
                            avoids: ['ุฃู ุชูุฑูู ุนููู ุญุงููุงู', 'ุงูุงุณุชูุฑุงุฑ ูู ุงููุดุงุท ุงููุคูู'] 
                        }
                    ]
                },
                {
                    id: 't6', title: '6. ุงุฎุชุจุงุฑ ุญูู ุงููุฒู', image: 'img/test6.png',
                    instruction: `<ul><li>ุงุญูู ูุฒูุงู ุฎูููุงู (2-3 ูุฌู) ุนูุฏ ุงูุญุฒุงู.</li><li>ูุฏ ุฐุฑุงุนูู ููุฃูุงู ูุฃูุช ุชุญูู ุงููุฒู.</li><li>ูู ุธูุฑ ุงูุฃููุ ุฌุฑุจ ุดุฏ ุจุทูู (Bracing). ูู ุงุฎุชููุ</li></ul>`,
                    question: 'ุชุฃุซูุฑ ุญูู ุงููุฒู ุจุนูุฏุงู ุนู ุงูุฌุณูุ',
                    options: [
                        { 
                            label: 'ูุณุจุจ ุฃููุงู ููุฑูุงู', diagnosis: 'Load Intolerance', 
                            feedback: 'ุธูุฑู ูุง ูุชุญูู "ุนุฒู ุงูุฏูุฑุงู". ุฃู ุญูู ุจุนูุฏ ุนู ุงูุฌุณู ูุถุฑู.', 
                            dos: ['ุงุญูู ุงูุฃุดูุงุก ููุชุตูุฉ ุจุตุฏุฑู ุชูุงูุงู', 'ุงุทูุจ ุงููุณุงุนุฏุฉ ูู ุญูู ุงูุฃุดูุงุก'], 
                            avoids: ['ูุฏ ุงููุฏ ูุฌูุจ ุฃุดูุงุก ุจุนูุฏุฉ', 'ูุชุญ ุงูููุงูุฐ ุจูุฏ ุงูุฐุฑุงุน'] 
                        },
                        { 
                            label: 'ุงูุดุฏ ุงูุนุถูู ููุน ุงูุฃูู', diagnosis: 'Stabilization Responder', 
                            feedback: 'ููููู ุญูุงูุฉ ุธูุฑู ุฅุฐุง ููุช ุจู "ุชุตูุจ ุงูุฌุฐุน" ูุจู ุงูุญุฑูุฉ.', 
                            dos: ['ุชุนูู ุงูุชุตูุจ (Bracing) ูุจู ุฃู ุญุฑูุฉ', 'ุชูุงุฑูู Big 3'], 
                            avoids: ['ุงูุฑูุน ุฃู ุงูุญุฑูุฉ ูุนุถูุงุช ุจุทูู ูุฑุชุฎูุฉ'] 
                        }
                    ]
                },
                {
                    id: 't7', title: '7. ุงุฎุชุจุงุฑ ุญุฑูุฉ ุงูุญูุถ', image: 'img/test7.png',
                    instruction: `<ul><li>ุถุน ุนุตุง ุฎูููุฉ ุนูู ูุชููู.</li><li>ุญุงูู ุชุญุฑูู ุญูุถู ููุท (ูุคุฎุฑุชู) ููุฃูุงู ูุงูุฎูู.</li><li>ูู ุญุฑูุฉ ุงูุนููุฏ ุงูููุฑู ูุฐู ุชุซูุฑ ุงูุฃููุ</li></ul>`,
                    question: 'ูู ุญุฑูุฉ ุฃุณูู ุงูุธูุฑ ูุคููุฉุ',
                    options: [
                        { 
                            label: 'ูุนูุ ุงูุญุฑูุฉ ูุคููุฉ', diagnosis: 'Motion Intolerance', 
                            feedback: 'ุฃูุช ุชุนุงูู ูู ุนุฏู ุชุญูู ุงูุญุฑูุฉ (Motion Intolerance). ุธูุฑู ูุฑูุฏ ุฃู ูุจูู ุซุงุจุชุงู.', 
                            dos: ['ุซุจุช ุงูุธูุฑ ูุญุฑู ุงููุฑู (Hip Hinge)', 'ุฑูุฒ ุญุฑูุชู ูู ุงูุฃูุชุงู ูุงููุฑููู'], 
                            avoids: ['ุชูุงุฑูู ุชุญุฑูู ุงูุธูุฑ (ูุซู Cat-Camel) ุจููุฉ', 'ุงูุฑูุต ุงูุฐู ูุชุทูุจ ุญุฑูุฉ ุฎุตุฑ'] 
                        },
                        { label: 'ูุง', diagnosis: null, feedback: 'ุฌูุฏ.', dos: [], avoids: [] }
                    ]
                },
                {
                    id: 't8', title: '8. ูุญุต ูุถุนูุฉ ุงููููู', image: 'img/test8.png',
                    instruction: `<ul><li>ุชุญุณุณ ุนุถูุงุช ุธูุฑู ุฃุซูุงุก ุงููููู. ูู ูู ูุชุดูุฌุฉุ ุญุงูู ุชุนุฏูู ูููุชู ููุงุณุชุฑุฎุงุก.</li></ul>`,
                    question: 'ูู ุงูุงุณุชุฑุฎุงุก ููููุ',
                    options: [
                        { 
                            label: 'ูุนูุ ุจุชุนุฏูู ุงููููุฉ', diagnosis: 'Postural Strain', 
                            feedback: 'ุฃููู ุณุจุจู "ุงูุฅุฌูุงุฏ ุงููุถุนู". ุนุถูุงุชู ุชุนูู ุทูุงู ุงูููุช ุจุณุจุจ ูููุฉ ุฎุงุทุฆุฉ.', 
                            dos: ['ุตุญุญ ูููุชู ุจุงุณุชูุฑุงุฑ (ุตุฏุฑ ููุฃุนูู)', 'ุงุฑูุน ุฐููู ููุฎูู ููููุงู'], 
                            avoids: ['ุงููููู ุจุจุทู ูุฏููุน ููุฃูุงู', 'ุงูุญูุงุก ุงูุฑูุจุฉ ูููุธุฑ ูููุงุชู'] 
                        },
                        { label: 'ูุง ุชุบููุฑ', diagnosis: null, feedback: 'ุทุจูุนู.', dos: [], avoids: [] }
                    ]
                }
            ]
        }
    },
    computed: {
        currentHistoryQ() { return this.historyQuestions[this.historyIndex]; },
        currentPhysicalTest() { return this.physicalTests[this.physicalIndex]; },
        progress() {
            const totalSteps = 1 + this.historyQuestions.length + this.physicalTests.length;
            let current = 0;
            if(this.currentPhase === 'intro') current = 0;
            else if(this.currentPhase === 'history') current = 1 + (this.historyIndex > -1 ? this.historyIndex : 0);
            else if(this.currentPhase === 'physical') current = 1 + this.historyQuestions.length + this.physicalIndex;
            else current = totalSteps;
            return (current / totalSteps) * 100;
        },
        finalDiagnosis() {
            // Priority Essentials based on Patterns (Deduplicated logic)
            let flexCount = this.evidenceLog.filter(e => e.type.includes('Flexion') || e.type.includes('Disc')).length;
            let extCount = this.evidenceLog.filter(e => e.type.includes('Extension') || e.type.includes('Facet')).length;
            let nerveCount = this.evidenceLog.filter(e => e.type.includes('Nerve') || e.type.includes('Tension')).length;
            let loadCount = this.evidenceLog.filter(e => e.type.includes('Load') || e.type.includes('Compression')).length;
            let instabilityCount = this.evidenceLog.filter(e => e.type.includes('Instability')).length;

            let dos = ["ุงููุดู ุงููุชูุทุน (Interval Walking)", "ุชุตูุจ ุงูุฌุฐุน (The Big 3)", "ุงูููู ุจูุถุน ูุญุงูุฏ"];
            let avoids = ["ุงูุฌููุณ ุฃู ุงููููู ููุชุฑุงุช ุทูููุฉ ุฏูู ุญุฑูุฉ"];

            // Smart Append based on Dominant Pattern
            if (flexCount >= 1 && flexCount >= extCount) {
                dos.push("ุงุณุชุฎุฏุงู ูุถุนูุฉ ุงูุงุณุชููุงุก ุนูู ุงูุจุทู ููุฑุงุญุฉ", "Hip Hinge ููู ุงูุญูุงุก");
                avoids.push("ุงูุฌููุณ ุงูุทููู ุจุธูุฑ ููุญูู", "ููุณ ุฃุตุงุจุน ุงููุฏู", "ุชูุงุฑูู ุงูุจุทู (Sit-ups)");
            } 
            
            if (extCount >= 1) {
                dos.push("ุซูู ุงูุธูุฑ ููููุงู ุนูุฏ ุงููููู", "ูุถุน ูุณุงุฏุฉ ุชุญุช ุงูุจุทู ุนูุฏ ุงูููู");
                avoids.push("ุชูุงุฑูู ุงูููุจุฑุง (Yoga)", "ุงูููู ุนูู ุงูุจุทู", "ุงูุณุจุงุญุฉ (FreeStyle)");
            }

            if (nerveCount > 0) {
                dos.push("ุชุญุฑูู ุงูุนุตุจ (Nerve Flossing) ูุงุญูุงู");
                avoids.push("ุชูุงุฑูู ุงูุฅุทุงูุฉ ููุณุงููู (Stretching) ุชูุงูุงู");
            }

            if (loadCount > 0) {
                dos.push("ุงูุฑุงุญุฉ ุจุงูุงุณุชููุงุก");
                avoids.push("ุญูู ุงูุฃูุฒุงู", "ุงูุฌุฑู ูุงูููุฒ");
            }

             if (instabilityCount > 0) {
                dos.push("ุชุซุจูุช ุงูุฌุฐุน ูุจู ุฃู ุญุฑูุฉ");
                avoids.push("ุชูุงุฑูู ุงูููููุฉ ูุงููุฑููุฉ (Yoga)", "ุทูุทูุฉ ุงูุธูุฑ");
            }

            return { dos: [...new Set(dos)], avoids: [...new Set(avoids)] };
        }
    },
    methods: {
        startApp() { this.currentPhase = 'history'; },
        printSection() { window.print(); },
        toggleBig3() { this.showBig3 = !this.showBig3; },
        toggleGuide() { this.showGuide = !this.showGuide; }, // Toggle Guide
        async shareReport() {
            const text = `ุชุดุฎูุต BodyArchitect:\nโ ุงูุนู: ${this.finalDiagnosis.dos.join(', ')}\nโ ุชุฌูุจ: ${this.finalDiagnosis.avoids.join(', ')}`;
            if (navigator.share) {
                await navigator.share({ title: 'ุชูุฑูุฑ BodyArchitect', text: text });
            } else {
                navigator.clipboard.writeText(text);
                alert('ุชู ูุณุฎ ุงูููุฎุต ููุญุงูุธุฉ! (Clipboard)');
            }
        },
        handleHistoryAnswer(option) {
            if (option.trigger) {
                this.evidenceLog.push({ source: 'ุชุงุฑูุฎ', type: option.trigger, note: option.note });
            }
            this.historyLog.push({ q: this.currentHistoryQ.text, a: option.label, note: option.note });
            this.lastAnswerNote = option.note;
        },
        nextHistoryQuestion() {
            this.lastAnswerNote = null;
            if (this.historyIndex < this.historyQuestions.length - 1) {
                this.historyIndex++;
            } else {
                this.currentPhase = 'physical';
            }
        },
        handlePhysicalAnswer(option) {
            // Fix: Handle cases where dos/avoids might be undefined in the option object
            const dos = option.dos ? option.dos : [];
            const avoids = option.avoids ? option.avoids : [];

            this.currentTestResult = { 
                diagnosis: option.diagnosis, 
                feedback: option.feedback,
                dos: dos,
                avoids: avoids
            };
            
            this.physicalLog.push({ 
                t: this.currentPhysicalTest.title, 
                r: option.label, 
                isPain: option.diagnosis !== null,
                note: option.feedback
            });

            if (option.diagnosis) {
                this.evidenceLog.push({ source: `Test ${this.physicalIndex + 1}`, type: option.diagnosis, note: option.detail });
            }
            
            // Safer push
            if (dos.length > 0) this.globalDos.push(...dos);
            if (avoids.length > 0) this.globalAvoids.push(...avoids);
        },
        nextPhysicalTest() {
            this.currentTestResult = null;
            if (this.physicalIndex < this.physicalTests.length - 1) {
                this.physicalIndex++;
            } else {
                this.currentPhase = 'final';
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            }
        }
    }
}).mount('#app');
</script>

</body>
</html>
